<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="å‰è¨€ è‡ªå·±æ—¥å¸¸å·¥ä½œä¸­å‡ ä¹å¤©å¤©éƒ½åœ¨ä½¿ç”¨ChatGPTï¼Œè§‰å¾—è¿™äº›å·¥å…·å¾ˆå¤§ç¨‹åº¦æå‡äº†å·¥ä½œæ•ˆç‡ï¼ŒèŠ‚çº¦äº†å¾ˆå¤šæ—¶é—´ï¼Œå¾ˆç‰›çš„ç”Ÿäº§åŠ›å·¥å…·ï¼Œååˆ†æœŸå¾…å®ƒå°†æ¥æ¼”åŒ–çš„è·¯ç¨‹ã€‚ è‡ªå·±ä¹Ÿäº†è§£è¿‡å¾ˆå¤šçš„ç›¸å…³çš„çŸ¥è¯†ï¼Œæœ€è¿‘æƒ³ç€æœ€è¿‘çš„AIGCå¤§æ¨¡å‹è¿™ä¹ˆç«ï¼Œæ€ä¹ˆä¸è‡ªå·±éƒ¨ç½²è¯•ä¸€ä¸‹è¯•è¯•å‘¢ï¼Ÿæƒ³ç€åé¢èƒ½è‡ªå·±åšå¾®è°ƒè®­ç»ƒå‡ºæ›´æœ‰æ„æ€æ›´æœ‰ä»·å€¼çš„ä¸œè¥¿å‡ºæ¥ã€‚ æ‰€ä»¥æŠŠè‡ªå·±çš„ä¸»åŠ›PC åšäº†ä¸€ä¸ªåŒç³»ç»Ÿï¼Œç„¶åæŒ‘ä¸€ä¸ªå¼€æºå¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½² é¦–å…ˆæŒ‘ä¸€ä¸ªèƒ½è¿è¡Œçš„å¼€æºæ¨¡å‹ï¼Œé€‰ä¸­äº†ChatGLM2-6B æ¨¡å‹ ï¼Œç”±æ¸…åå¤§å­¦å¼€æºçš„ä¸­è‹±åŒè¯­å¯¹è¯æ¨¡å‹ ã€‚éƒ¨ç½²é—¨æ§›æ¯”è¾ƒä½ï¼Œæ€§èƒ½ä¹Ÿé”™ã€‚ é¡¹ç›®åœ°å€ï¼šhttps://github.com/THUDM/ChatGLM2-6B ç¡¬ä»¶ç¯å¢ƒï¼š CPUï¼ši7-9700F å†…å­˜ï¼šDDR4 32G æ˜¾å¡ï¼š2070S 8G è½¯ä»¶ç¯å¢ƒï¼ˆæ–°è£…ï¼‰ï¼š Ubuntu 22.04 TLS å¼€å§‹ å®‰è£…ç¯å¢ƒ ç®€è¦è¯´æ˜è¦å®‰è£…å“ªäº›ä¸œè¥¿ ä¸»è¦åˆ†ä¸ºä¸‰å¤§å—ï¼š 1.è‹±ä¼Ÿè¾¾æ˜¾å¡é©±åŠ¨ï¼ŒLinuxç³»ç»Ÿé»˜è®¤ä¸ä¼šå®‰è£…ç›¸å…³æ˜¾å¡é©±åŠ¨ï¼Œéœ€è¦è‡ªå·±å®‰è£…ã€‚ 2.CUDAï¼ˆCompute Unified Device Architectureï¼‰ ï¼Œæ˜¯NVIDIAå…¬å¸å¼€å‘çš„ä¸€ç»„ç¼–ç¨‹è¯­è¨€æ‰©å±•ã€åº“å’Œå·¥å…·ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿç¼–å†™å†…æ ¸å‡½æ•°ï¼Œå¯ä»¥åœ¨GPUä¸Šå¹¶è¡Œè®¡ç®—ã€‚ 3.CuDNNï¼ˆCUDA Deep Neural Network libraryï¼‰ï¼Œæ˜¯NVIDIAå…¬å¸å¼€å‘çš„æ·±åº¦å­¦ä¹ å¼€å‘è€…æä¾›çš„åŠ é€Ÿåº“ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¿«å®ç°æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒæ¨ç†è¿‡ç¨‹ã€‚ å…ˆçœ‹ä¸‹è‡ªå·±çš„æ˜¾å¡åˆ°åº•æœ‰æ²¡æœ‰é©±åŠ¨ï¼šnvidia-smi æŠ¥é”™å°±æ˜¯æ²¡æœ‰çš„ï¼Œåˆšè£…çš„ç³»ç»Ÿå½“ç„¶æ²¡æœ‰ å†çœ‹ä¸‹æœ‰æ²¡æœ‰cuda é©±åŠ¨ï¼šnvcc -V ä¹Ÿæ˜¯æ²¡æœ‰å®‰è£…ç›¸å…³é©±åŠ¨ï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰ é‚£ä¹ˆå¼€å§‹å®‰è£… NVIDIAé©±åŠ¨ å…ˆæ›´æ–°ä¸€ä¸‹è½¯ä»¶æºï¼š sudo apt-get update æŸ¥çœ‹æ˜¾å¡ç¡¬ä»¶æ”¯æŒçš„é©±åŠ¨ç±»å‹ï¼šubuntu-drivers devices å®‰è£…ä¸€ä¸ªæœ€æ¨èçš„é©±åŠ¨ï¼š å¯ä»¥è‡ªåŠ¨å®‰è£…æ¨èç‰ˆæœ¬ï¼š sudo ubuntu-drivers autoinstall æŠ¥é”™äº†ã€‚ ä¿®æ”¹DNS: 1 sudo vim /etc/systemd/resolved.conf é‡å¯æœåŠ¡ï¼š 1 2 systemctl restart systemd-resolved systemctl enable systemd-resolved åˆå‡ºç°æŠ¥é”™ï¼š æŒ‰ç…§æ¨èapt-get update è¯•ä¸€ä¸‹å†å®‰è£… å¯ä»¥äº†ï¼Œå®‰è£…æˆåŠŸï¼š é‡å¯ï¼ˆ sudo rebootï¼‰ä¹‹åå†æŸ¥çœ‹é©±åŠ¨ï¼š">
<title>ä»æ­å»ºç¯å¢ƒå¼€å§‹æœ¬åœ°éƒ¨ç½²chatGLM2-6Bå¤§æ¨¡å‹</title>

<link rel='canonical' href='https://munihehacker/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/'>

<link rel="stylesheet" href="/my-blog.github.io/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="ä»æ­å»ºç¯å¢ƒå¼€å§‹æœ¬åœ°éƒ¨ç½²chatGLM2-6Bå¤§æ¨¡å‹">
<meta property='og:description' content="å‰è¨€ è‡ªå·±æ—¥å¸¸å·¥ä½œä¸­å‡ ä¹å¤©å¤©éƒ½åœ¨ä½¿ç”¨ChatGPTï¼Œè§‰å¾—è¿™äº›å·¥å…·å¾ˆå¤§ç¨‹åº¦æå‡äº†å·¥ä½œæ•ˆç‡ï¼ŒèŠ‚çº¦äº†å¾ˆå¤šæ—¶é—´ï¼Œå¾ˆç‰›çš„ç”Ÿäº§åŠ›å·¥å…·ï¼Œååˆ†æœŸå¾…å®ƒå°†æ¥æ¼”åŒ–çš„è·¯ç¨‹ã€‚ è‡ªå·±ä¹Ÿäº†è§£è¿‡å¾ˆå¤šçš„ç›¸å…³çš„çŸ¥è¯†ï¼Œæœ€è¿‘æƒ³ç€æœ€è¿‘çš„AIGCå¤§æ¨¡å‹è¿™ä¹ˆç«ï¼Œæ€ä¹ˆä¸è‡ªå·±éƒ¨ç½²è¯•ä¸€ä¸‹è¯•è¯•å‘¢ï¼Ÿæƒ³ç€åé¢èƒ½è‡ªå·±åšå¾®è°ƒè®­ç»ƒå‡ºæ›´æœ‰æ„æ€æ›´æœ‰ä»·å€¼çš„ä¸œè¥¿å‡ºæ¥ã€‚ æ‰€ä»¥æŠŠè‡ªå·±çš„ä¸»åŠ›PC åšäº†ä¸€ä¸ªåŒç³»ç»Ÿï¼Œç„¶åæŒ‘ä¸€ä¸ªå¼€æºå¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½² é¦–å…ˆæŒ‘ä¸€ä¸ªèƒ½è¿è¡Œçš„å¼€æºæ¨¡å‹ï¼Œé€‰ä¸­äº†ChatGLM2-6B æ¨¡å‹ ï¼Œç”±æ¸…åå¤§å­¦å¼€æºçš„ä¸­è‹±åŒè¯­å¯¹è¯æ¨¡å‹ ã€‚éƒ¨ç½²é—¨æ§›æ¯”è¾ƒä½ï¼Œæ€§èƒ½ä¹Ÿé”™ã€‚ é¡¹ç›®åœ°å€ï¼šhttps://github.com/THUDM/ChatGLM2-6B ç¡¬ä»¶ç¯å¢ƒï¼š CPUï¼ši7-9700F å†…å­˜ï¼šDDR4 32G æ˜¾å¡ï¼š2070S 8G è½¯ä»¶ç¯å¢ƒï¼ˆæ–°è£…ï¼‰ï¼š Ubuntu 22.04 TLS å¼€å§‹ å®‰è£…ç¯å¢ƒ ç®€è¦è¯´æ˜è¦å®‰è£…å“ªäº›ä¸œè¥¿ ä¸»è¦åˆ†ä¸ºä¸‰å¤§å—ï¼š 1.è‹±ä¼Ÿè¾¾æ˜¾å¡é©±åŠ¨ï¼ŒLinuxç³»ç»Ÿé»˜è®¤ä¸ä¼šå®‰è£…ç›¸å…³æ˜¾å¡é©±åŠ¨ï¼Œéœ€è¦è‡ªå·±å®‰è£…ã€‚ 2.CUDAï¼ˆCompute Unified Device Architectureï¼‰ ï¼Œæ˜¯NVIDIAå…¬å¸å¼€å‘çš„ä¸€ç»„ç¼–ç¨‹è¯­è¨€æ‰©å±•ã€åº“å’Œå·¥å…·ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿç¼–å†™å†…æ ¸å‡½æ•°ï¼Œå¯ä»¥åœ¨GPUä¸Šå¹¶è¡Œè®¡ç®—ã€‚ 3.CuDNNï¼ˆCUDA Deep Neural Network libraryï¼‰ï¼Œæ˜¯NVIDIAå…¬å¸å¼€å‘çš„æ·±åº¦å­¦ä¹ å¼€å‘è€…æä¾›çš„åŠ é€Ÿåº“ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¿«å®ç°æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒæ¨ç†è¿‡ç¨‹ã€‚ å…ˆçœ‹ä¸‹è‡ªå·±çš„æ˜¾å¡åˆ°åº•æœ‰æ²¡æœ‰é©±åŠ¨ï¼šnvidia-smi æŠ¥é”™å°±æ˜¯æ²¡æœ‰çš„ï¼Œåˆšè£…çš„ç³»ç»Ÿå½“ç„¶æ²¡æœ‰ å†çœ‹ä¸‹æœ‰æ²¡æœ‰cuda é©±åŠ¨ï¼šnvcc -V ä¹Ÿæ˜¯æ²¡æœ‰å®‰è£…ç›¸å…³é©±åŠ¨ï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰ é‚£ä¹ˆå¼€å§‹å®‰è£… NVIDIAé©±åŠ¨ å…ˆæ›´æ–°ä¸€ä¸‹è½¯ä»¶æºï¼š sudo apt-get update æŸ¥çœ‹æ˜¾å¡ç¡¬ä»¶æ”¯æŒçš„é©±åŠ¨ç±»å‹ï¼šubuntu-drivers devices å®‰è£…ä¸€ä¸ªæœ€æ¨èçš„é©±åŠ¨ï¼š å¯ä»¥è‡ªåŠ¨å®‰è£…æ¨èç‰ˆæœ¬ï¼š sudo ubuntu-drivers autoinstall æŠ¥é”™äº†ã€‚ ä¿®æ”¹DNS: 1 sudo vim /etc/systemd/resolved.conf é‡å¯æœåŠ¡ï¼š 1 2 systemctl restart systemd-resolved systemctl enable systemd-resolved åˆå‡ºç°æŠ¥é”™ï¼š æŒ‰ç…§æ¨èapt-get update è¯•ä¸€ä¸‹å†å®‰è£… å¯ä»¥äº†ï¼Œå®‰è£…æˆåŠŸï¼š é‡å¯ï¼ˆ sudo rebootï¼‰ä¹‹åå†æŸ¥çœ‹é©±åŠ¨ï¼š">
<meta property='og:url' content='https://munihehacker/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/'>
<meta property='og:site_name' content='æˆ‘çš„å°ç«™'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='python' /><meta property='article:published_time' content='2023-11-23T22:18:48&#43;08:00'/><meta property='article:modified_time' content='2023-11-23T22:18:48&#43;08:00'/><meta property='og:image' content='https://munihehacker/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/title.png' />
<meta name="twitter:title" content="ä»æ­å»ºç¯å¢ƒå¼€å§‹æœ¬åœ°éƒ¨ç½²chatGLM2-6Bå¤§æ¨¡å‹">
<meta name="twitter:description" content="å‰è¨€ è‡ªå·±æ—¥å¸¸å·¥ä½œä¸­å‡ ä¹å¤©å¤©éƒ½åœ¨ä½¿ç”¨ChatGPTï¼Œè§‰å¾—è¿™äº›å·¥å…·å¾ˆå¤§ç¨‹åº¦æå‡äº†å·¥ä½œæ•ˆç‡ï¼ŒèŠ‚çº¦äº†å¾ˆå¤šæ—¶é—´ï¼Œå¾ˆç‰›çš„ç”Ÿäº§åŠ›å·¥å…·ï¼Œååˆ†æœŸå¾…å®ƒå°†æ¥æ¼”åŒ–çš„è·¯ç¨‹ã€‚ è‡ªå·±ä¹Ÿäº†è§£è¿‡å¾ˆå¤šçš„ç›¸å…³çš„çŸ¥è¯†ï¼Œæœ€è¿‘æƒ³ç€æœ€è¿‘çš„AIGCå¤§æ¨¡å‹è¿™ä¹ˆç«ï¼Œæ€ä¹ˆä¸è‡ªå·±éƒ¨ç½²è¯•ä¸€ä¸‹è¯•è¯•å‘¢ï¼Ÿæƒ³ç€åé¢èƒ½è‡ªå·±åšå¾®è°ƒè®­ç»ƒå‡ºæ›´æœ‰æ„æ€æ›´æœ‰ä»·å€¼çš„ä¸œè¥¿å‡ºæ¥ã€‚ æ‰€ä»¥æŠŠè‡ªå·±çš„ä¸»åŠ›PC åšäº†ä¸€ä¸ªåŒç³»ç»Ÿï¼Œç„¶åæŒ‘ä¸€ä¸ªå¼€æºå¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½² é¦–å…ˆæŒ‘ä¸€ä¸ªèƒ½è¿è¡Œçš„å¼€æºæ¨¡å‹ï¼Œé€‰ä¸­äº†ChatGLM2-6B æ¨¡å‹ ï¼Œç”±æ¸…åå¤§å­¦å¼€æºçš„ä¸­è‹±åŒè¯­å¯¹è¯æ¨¡å‹ ã€‚éƒ¨ç½²é—¨æ§›æ¯”è¾ƒä½ï¼Œæ€§èƒ½ä¹Ÿé”™ã€‚ é¡¹ç›®åœ°å€ï¼šhttps://github.com/THUDM/ChatGLM2-6B ç¡¬ä»¶ç¯å¢ƒï¼š CPUï¼ši7-9700F å†…å­˜ï¼šDDR4 32G æ˜¾å¡ï¼š2070S 8G è½¯ä»¶ç¯å¢ƒï¼ˆæ–°è£…ï¼‰ï¼š Ubuntu 22.04 TLS å¼€å§‹ å®‰è£…ç¯å¢ƒ ç®€è¦è¯´æ˜è¦å®‰è£…å“ªäº›ä¸œè¥¿ ä¸»è¦åˆ†ä¸ºä¸‰å¤§å—ï¼š 1.è‹±ä¼Ÿè¾¾æ˜¾å¡é©±åŠ¨ï¼ŒLinuxç³»ç»Ÿé»˜è®¤ä¸ä¼šå®‰è£…ç›¸å…³æ˜¾å¡é©±åŠ¨ï¼Œéœ€è¦è‡ªå·±å®‰è£…ã€‚ 2.CUDAï¼ˆCompute Unified Device Architectureï¼‰ ï¼Œæ˜¯NVIDIAå…¬å¸å¼€å‘çš„ä¸€ç»„ç¼–ç¨‹è¯­è¨€æ‰©å±•ã€åº“å’Œå·¥å…·ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿç¼–å†™å†…æ ¸å‡½æ•°ï¼Œå¯ä»¥åœ¨GPUä¸Šå¹¶è¡Œè®¡ç®—ã€‚ 3.CuDNNï¼ˆCUDA Deep Neural Network libraryï¼‰ï¼Œæ˜¯NVIDIAå…¬å¸å¼€å‘çš„æ·±åº¦å­¦ä¹ å¼€å‘è€…æä¾›çš„åŠ é€Ÿåº“ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¿«å®ç°æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒæ¨ç†è¿‡ç¨‹ã€‚ å…ˆçœ‹ä¸‹è‡ªå·±çš„æ˜¾å¡åˆ°åº•æœ‰æ²¡æœ‰é©±åŠ¨ï¼šnvidia-smi æŠ¥é”™å°±æ˜¯æ²¡æœ‰çš„ï¼Œåˆšè£…çš„ç³»ç»Ÿå½“ç„¶æ²¡æœ‰ å†çœ‹ä¸‹æœ‰æ²¡æœ‰cuda é©±åŠ¨ï¼šnvcc -V ä¹Ÿæ˜¯æ²¡æœ‰å®‰è£…ç›¸å…³é©±åŠ¨ï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰ é‚£ä¹ˆå¼€å§‹å®‰è£… NVIDIAé©±åŠ¨ å…ˆæ›´æ–°ä¸€ä¸‹è½¯ä»¶æºï¼š sudo apt-get update æŸ¥çœ‹æ˜¾å¡ç¡¬ä»¶æ”¯æŒçš„é©±åŠ¨ç±»å‹ï¼šubuntu-drivers devices å®‰è£…ä¸€ä¸ªæœ€æ¨èçš„é©±åŠ¨ï¼š å¯ä»¥è‡ªåŠ¨å®‰è£…æ¨èç‰ˆæœ¬ï¼š sudo ubuntu-drivers autoinstall æŠ¥é”™äº†ã€‚ ä¿®æ”¹DNS: 1 sudo vim /etc/systemd/resolved.conf é‡å¯æœåŠ¡ï¼š 1 2 systemctl restart systemd-resolved systemctl enable systemd-resolved åˆå‡ºç°æŠ¥é”™ï¼š æŒ‰ç…§æ¨èapt-get update è¯•ä¸€ä¸‹å†å®‰è£… å¯ä»¥äº†ï¼Œå®‰è£…æˆåŠŸï¼š é‡å¯ï¼ˆ sudo rebootï¼‰ä¹‹åå†æŸ¥çœ‹é©±åŠ¨ï¼š"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://munihehacker/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/title.png' />
    <link rel="shortcut icon" href="/favicon.ico" />

  


    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/my-blog.github.io/">
                
                    
                    
                    
                        
                        <img src="/my-blog.github.io/img/avatar_huf0f10adf0b1409009c769d5188d1956a_595492_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/my-blog.github.io">æˆ‘çš„å°ç«™</a></h1>
            <h2 class="site-description">æ‚Ÿå·²å¾€ä¹‹ä¸è°,çŸ¥æ¥è€…çŸ¥å¯è¿½</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/'
                        target="_blank"
                        title="Bilibili"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1747041651549" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2804" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M729.329 373.95c-9.795-5.945-19.062-6.785-19.144-6.785l-1.065-0.05c-57.2-3.866-121.165-5.832-190.126-5.832l-13.988 0.005c-68.956 0-132.925 1.96-190.12 5.831l-1.066 0.052c-0.082 0-9.349 0.84-19.144 6.784-15.047 9.129-24.273 25.948-27.417 49.97-10.071 76.913-4.383 173.65 0.19 251.393 2.938 49.966 33.407 62.459 85.048 67.149 10.782 0.988 69.089 5.867 159.508 5.893v-0.005c90.42-0.02 148.726-4.905 159.514-5.888 51.64-4.69 82.11-17.183 85.043-67.15 4.577-77.741 10.26-174.479 0.19-251.391-3.15-24.028-12.376-40.848-27.423-49.977z m-390.99 172.718a23.65 23.65 0 0 1-31.687-10.845 23.68 23.68 0 0 1 10.844-31.687c2.038-1.004 50.693-24.725 110.541-43.065a23.68 23.68 0 1 1 13.88 45.292c-56.294 17.25-103.111 40.074-103.577 40.305z m268.898 35.886c-0.44 2.232-11.269 54.64-50.939 54.64-21.442 0-36.1-14.049-44.984-26.772-8.694 12.708-22.805 26.772-42.655 26.772-35.533 0-50.135-48.266-51.681-53.77a11.366 11.366 0 0 1 21.878-6.17c2.75 9.652 14.13 37.202 29.798 37.202 16.374 0 28.892-23.644 31.985-31.928a11.372 11.372 0 0 1 10.65-7.388h0.06a11.376 11.376 0 0 1 10.63 7.506c0.107 0.286 11.965 31.815 34.314 31.815 20.864 0 28.565-35.952 28.641-36.32a11.346 11.346 0 0 1 13.358-8.94 11.361 11.361 0 0 1 8.945 13.353z m110.116-46.736a23.68 23.68 0 0 1-31.683 10.844c-0.47-0.23-47.472-23.116-103.572-40.31a23.69 23.69 0 0 1-15.708-29.583 23.67 23.67 0 0 1 29.578-15.703c59.848 18.34 108.498 42.061 110.551 43.065a23.68 23.68 0 0 1 10.834 31.687z" p-id="2805"></path><path d="M849.92 51.2H174.08c-67.866 0-122.88 55.014-122.88 122.88v675.84c0 67.87 55.014 122.88 122.88 122.88h675.84c67.87 0 122.88-55.01 122.88-122.88V174.08c0-67.86-55.01-122.88-122.88-122.88z m-36.603 627.45c-2.626 44.58-21.821 78.634-55.516 98.49-25.682 15.134-54.175 19.486-81.137 21.938-32.455 2.95-92.718 6.098-164.664 6.119-71.941-0.02-132.209-3.164-164.664-6.119-26.962-2.452-55.455-6.804-81.132-21.939-33.695-19.855-52.89-53.903-55.51-98.483-4.706-80.133-10.574-179.855 0.194-262.108C221.542 335.165 280.99 311.572 311.5 310.38a2482.642 2482.642 0 0 1 81.423-4.086c-7.536-8.535-19.88-23.322-28.815-38.114-13.737-22.737 8.53-41.687 8.53-41.687s23.68-20.367 44.528 5.213c15.698 19.266 38.38 55.997 48.62 72.954l53.207-0.215c13.26 0 26.332 0.072 39.22 0.215 10.24-16.957 32.92-53.683 48.619-72.954 20.843-25.58 44.528-5.213 44.528-5.213s22.262 18.95 8.525 41.687c-8.934 14.792-21.279 29.579-28.815 38.114 28.36 0.978 55.562 2.34 81.423 4.08 30.515 1.198 89.958 24.791 100.613 106.174 10.778 82.248 4.915 181.97 0.21 262.103z" p-id="2806"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/alihehacker'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 640 640"><path d="M319.988 7.973C143.293 7.973 0 151.242 0 327.96c0 141.392 91.678 261.298 218.826 303.63 16.004 2.964 21.886-6.957 21.886-15.414 0-7.63-.319-32.835-.449-59.552-89.032 19.359-107.8-37.772-107.8-37.772-14.552-36.993-35.529-46.831-35.529-46.831-29.032-19.879 2.209-19.442 2.209-19.442 32.126 2.245 49.04 32.954 49.04 32.954 28.56 48.922 74.883 34.76 93.131 26.598 2.882-20.681 11.15-34.807 20.315-42.803-71.08-8.067-145.797-35.516-145.797-158.14 0-34.926 12.52-63.485 32.965-85.88-3.33-8.078-14.291-40.606 3.083-84.674 0 0 26.87-8.61 88.029 32.8 25.512-7.075 52.878-10.642 80.056-10.76 27.2.118 54.614 3.673 80.162 10.76 61.076-41.386 87.922-32.8 87.922-32.8 17.398 44.08 6.485 76.631 3.154 84.675 20.516 22.394 32.93 50.953 32.93 85.879 0 122.907-74.883 149.93-146.117 157.856 11.481 9.921 21.733 29.398 21.733 59.233 0 42.792-.366 77.28-.366 87.804 0 8.516 5.764 18.473 21.992 15.354 127.076-42.354 218.637-162.274 218.637-303.582 0-176.695-143.269-319.988-320-319.988l-.023.107z"/></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://www.zhihu.com/people/hacker-25-85-67'
                        target="_blank"
                        title="Zhihu"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1747041668264" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3961" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M656.90624 724.29056l47.42144-33.72544h52.68992V344.89856h-143.31904v346.7264h35.82976z" fill="#0066FF" p-id="3962"></path><path d="M849.92 51.2H174.08c-67.8656 0-122.88 55.0144-122.88 122.88v675.84c0 67.8656 55.0144 122.88 122.88 122.88h675.84c67.8656 0 122.88-55.0144 122.88-122.88V174.08c0-67.8656-55.0144-122.88-122.88-122.88zM495.66208 803.34848l-101.1712-157.05088 44.26752-31.616 67.45088 98.00704c-0.00512 0 23.17824 37.99552-10.5472 90.65984z m38.99392-276.10112v25.2928H408.19712C357.61152 876.06784 204.8 807.04512 204.8 807.04512c140.16512-109.86496 142.7968-254.50496 142.7968-254.50496H208.49152c0-57.9584 52.16256-56.91392 52.16256-56.91392h93.79328v-151.7568h-50.5856C284.89728 429.2352 204.8 425.02144 204.8 425.02144s32.67072-50.5856 54.79936-137.00096c22.12864-86.42048 89.5744-76.928 89.5744-76.928-20.0192 35.82976-29.50656 76.928-29.50656 76.928H485.12c40.04864 0 37.9392 25.2928 37.9392 25.2928v29.51168H411.35616v152.8064H503.04c33.72544 0 31.616 31.616 31.616 31.616zM819.2 747.49952h-102.22592l-88.51968 55.84896-8.42752-55.84896h-64.29184V288.01536H819.2v459.48416z" fill="#0066FF" p-id="3963"></path></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/my-blog.github.io/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/my-blog.github.io/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>åˆ†ç±»</span>
            </a>
        </li>
        
        
        <li >
            <a href='/my-blog.github.io/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æœç´¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/my-blog.github.io/%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>é“¾æ¥</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>æš—è‰²æ¨¡å¼</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#å®‰è£…ç¯å¢ƒ">å®‰è£…ç¯å¢ƒ</a>
      <ol>
        <li><a href="#nvidiaé©±åŠ¨">NVIDIAé©±åŠ¨</a></li>
        <li><a href="#cuda">CUDA</a></li>
        <li><a href="#cudnn">cuDNN</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#ä¸‹è½½é¡¹ç›®">ä¸‹è½½é¡¹ç›®</a></li>
    <li><a href="#å‘½ä»¤è¡Œæµ‹è¯•">å‘½ä»¤è¡Œæµ‹è¯•</a></li>
    <li><a href="#webæµ‹è¯•">WEBæµ‹è¯•</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/">
                <img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/title_hu509e8fd1d5148edfe7bf43d416d577c3_38375_800x0_resize_box_3.png"
                        srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/title_hu509e8fd1d5148edfe7bf43d416d577c3_38375_800x0_resize_box_3.png 800w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/title_hu509e8fd1d5148edfe7bf43d416d577c3_38375_1600x0_resize_box_3.png 1600w"
                        width="800" 
                        height="423" 
                        loading="lazy"
                        alt="Featured image of post ä»æ­å»ºç¯å¢ƒå¼€å§‹æœ¬åœ°éƒ¨ç½²chatGLM2-6Bå¤§æ¨¡å‹" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/my-blog.github.io/categories/%E6%9D%82%E6%8A%80%E6%B5%85%E5%B0%9D/" >
                æ‚æŠ€æµ…å°
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/">ä»æ­å»ºç¯å¢ƒå¼€å§‹æœ¬åœ°éƒ¨ç½²chatGLM2-6Bå¤§æ¨¡å‹</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Nov 23, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 5 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="å‰è¨€">å‰è¨€
</h1><p>è‡ªå·±æ—¥å¸¸å·¥ä½œä¸­å‡ ä¹å¤©å¤©éƒ½åœ¨ä½¿ç”¨ChatGPTï¼Œè§‰å¾—è¿™äº›å·¥å…·å¾ˆå¤§ç¨‹åº¦æå‡äº†å·¥ä½œæ•ˆç‡ï¼ŒèŠ‚çº¦äº†å¾ˆå¤šæ—¶é—´ï¼Œå¾ˆç‰›çš„ç”Ÿäº§åŠ›å·¥å…·ï¼Œååˆ†æœŸå¾…å®ƒå°†æ¥æ¼”åŒ–çš„è·¯ç¨‹ã€‚</p>
<p>è‡ªå·±ä¹Ÿäº†è§£è¿‡å¾ˆå¤šçš„ç›¸å…³çš„çŸ¥è¯†ï¼Œæœ€è¿‘æƒ³ç€æœ€è¿‘çš„AIGCå¤§æ¨¡å‹è¿™ä¹ˆç«ï¼Œæ€ä¹ˆä¸è‡ªå·±éƒ¨ç½²è¯•ä¸€ä¸‹è¯•è¯•å‘¢ï¼Ÿæƒ³ç€åé¢èƒ½è‡ªå·±åšå¾®è°ƒè®­ç»ƒå‡ºæ›´æœ‰æ„æ€æ›´æœ‰ä»·å€¼çš„ä¸œè¥¿å‡ºæ¥ã€‚</p>
<p>æ‰€ä»¥æŠŠè‡ªå·±çš„ä¸»åŠ›PC åšäº†ä¸€ä¸ªåŒç³»ç»Ÿï¼Œç„¶åæŒ‘ä¸€ä¸ªå¼€æºå¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²
é¦–å…ˆæŒ‘ä¸€ä¸ªèƒ½è¿è¡Œçš„å¼€æºæ¨¡å‹ï¼Œé€‰ä¸­äº†ChatGLM2-6B  æ¨¡å‹ ï¼Œç”±æ¸…åå¤§å­¦å¼€æºçš„ä¸­è‹±åŒè¯­å¯¹è¯æ¨¡å‹ ã€‚éƒ¨ç½²é—¨æ§›æ¯”è¾ƒä½ï¼Œæ€§èƒ½ä¹Ÿé”™ã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼šhttps://github.com/THUDM/ChatGLM2-6B</p>
<p>ç¡¬ä»¶ç¯å¢ƒï¼š<br>
CPUï¼ši7-9700F<br>
å†…å­˜ï¼šDDR4 32G<br>
æ˜¾å¡ï¼š2070S 8G</p>
<p>è½¯ä»¶ç¯å¢ƒï¼ˆæ–°è£…ï¼‰ï¼š<br>
Ubuntu 22.04 TLS</p>
<h1 id="å¼€å§‹">å¼€å§‹
</h1><h2 id="å®‰è£…ç¯å¢ƒ">å®‰è£…ç¯å¢ƒ
</h2><p>ç®€è¦è¯´æ˜è¦å®‰è£…å“ªäº›ä¸œè¥¿<br>
ä¸»è¦åˆ†ä¸ºä¸‰å¤§å—ï¼š
1.è‹±ä¼Ÿè¾¾æ˜¾å¡é©±åŠ¨ï¼ŒLinuxç³»ç»Ÿé»˜è®¤ä¸ä¼šå®‰è£…ç›¸å…³æ˜¾å¡é©±åŠ¨ï¼Œéœ€è¦è‡ªå·±å®‰è£…ã€‚<br>
2.CUDAï¼ˆCompute Unified Device Architectureï¼‰ ï¼Œæ˜¯NVIDIAå…¬å¸å¼€å‘çš„ä¸€ç»„ç¼–ç¨‹è¯­è¨€æ‰©å±•ã€åº“å’Œå·¥å…·ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿç¼–å†™å†…æ ¸å‡½æ•°ï¼Œå¯ä»¥åœ¨GPUä¸Šå¹¶è¡Œè®¡ç®—ã€‚<br>
3.CuDNNï¼ˆCUDA Deep Neural Network libraryï¼‰ï¼Œæ˜¯NVIDIAå…¬å¸å¼€å‘çš„æ·±åº¦å­¦ä¹ å¼€å‘è€…æä¾›çš„åŠ é€Ÿåº“ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¿«å®ç°æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒæ¨ç†è¿‡ç¨‹ã€‚</p>
<p>å…ˆçœ‹ä¸‹è‡ªå·±çš„æ˜¾å¡åˆ°åº•æœ‰æ²¡æœ‰é©±åŠ¨ï¼š<code>nvidia-smi</code></p>
<p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_1.png"
	width="871"
	height="304"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_1_hu4443bad77f579ec63ec44baa86ba0d33_33560_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_1_hu4443bad77f579ec63ec44baa86ba0d33_33560_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_1.png"
	
	
		class="gallery-image" 
		data-flex-grow="286"
		data-flex-basis="687px"
	
>
æŠ¥é”™å°±æ˜¯æ²¡æœ‰çš„ï¼Œåˆšè£…çš„ç³»ç»Ÿå½“ç„¶æ²¡æœ‰</p>
<p>å†çœ‹ä¸‹æœ‰æ²¡æœ‰cuda é©±åŠ¨ï¼š<code>nvcc -V</code>
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_2.png"
	width="555"
	height="106"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_2_hu611bafe94df4300fb3774c09ff58e68b_7852_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_2_hu611bafe94df4300fb3774c09ff58e68b_7852_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_2.png"
	
	
		class="gallery-image" 
		data-flex-grow="523"
		data-flex-basis="1256px"
	
><br>
ä¹Ÿæ˜¯æ²¡æœ‰å®‰è£…ç›¸å…³é©±åŠ¨ï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰</p>
<p>é‚£ä¹ˆå¼€å§‹å®‰è£…</p>
<h3 id="nvidiaé©±åŠ¨">NVIDIAé©±åŠ¨
</h3><p>å…ˆæ›´æ–°ä¸€ä¸‹è½¯ä»¶æºï¼š
<code>sudo apt-get update</code></p>
<p>æŸ¥çœ‹æ˜¾å¡ç¡¬ä»¶æ”¯æŒçš„é©±åŠ¨ç±»å‹ï¼š<code>ubuntu-drivers devices</code>
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img.png"
	width="744"
	height="392"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_huf547f9e8a3dda5d2a35d342581290c3a_27856_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_huf547f9e8a3dda5d2a35d342581290c3a_27856_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img.png"
	
	
		class="gallery-image" 
		data-flex-grow="189"
		data-flex-basis="455px"
	
></p>
<p>å®‰è£…ä¸€ä¸ªæœ€æ¨èçš„é©±åŠ¨ï¼š</p>
<p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_5.png"
	width="794"
	height="394"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_5_hu44d388a7b1fa4282adc13046603e8829_29510_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_5_hu44d388a7b1fa4282adc13046603e8829_29510_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_5.png"
	
	
		class="gallery-image" 
		data-flex-grow="201"
		data-flex-basis="483px"
	
>
å¯ä»¥è‡ªåŠ¨å®‰è£…æ¨èç‰ˆæœ¬ï¼š
<code>sudo ubuntu-drivers autoinstall</code>
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_6.png"
	width="2257"
	height="958"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_6_hu4fe671607e4cf26db80675c8f5511457_292436_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_6_hu4fe671607e4cf26db80675c8f5511457_292436_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_6.png"
	
	
		class="gallery-image" 
		data-flex-grow="235"
		data-flex-basis="565px"
	
>
æŠ¥é”™äº†ã€‚
ä¿®æ”¹DNS:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo vim /etc/systemd/resolved.conf
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_7.png"
	width="1270"
	height="625"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_7_hud684de578faf732e505ecf58b9b15fb8_31798_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_7_hud684de578faf732e505ecf58b9b15fb8_31798_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_7.png"
	
	
		class="gallery-image" 
		data-flex-grow="203"
		data-flex-basis="487px"
	
>
é‡å¯æœåŠ¡ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">systemctl restart systemd-resolved 
</span></span><span class="line"><span class="cl">systemctl enable systemd-resolved
</span></span></code></pre></td></tr></table>
</div>
</div><p>åˆå‡ºç°æŠ¥é”™ï¼š
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_8.png"
	width="2307"
	height="365"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_8_hu0ff46c0866bc11d8e7c8f83dfb48be38_67990_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_8_hu0ff46c0866bc11d8e7c8f83dfb48be38_67990_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_8.png"
	
	
		class="gallery-image" 
		data-flex-grow="632"
		data-flex-basis="1516px"
	
>
æŒ‰ç…§æ¨è<code>apt-get update </code> è¯•ä¸€ä¸‹å†å®‰è£…
å¯ä»¥äº†ï¼Œå®‰è£…æˆåŠŸï¼š
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_9.png"
	width="1179"
	height="916"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_9_hud557756deac38d2de5c701221a488922_94295_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_9_hud557756deac38d2de5c701221a488922_94295_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_9.png"
	
	
		class="gallery-image" 
		data-flex-grow="128"
		data-flex-basis="308px"
	
>
é‡å¯ï¼ˆ  sudo rebootï¼‰ä¹‹åå†æŸ¥çœ‹é©±åŠ¨ï¼š</p>
<p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_10.png"
	width="1106"
	height="516"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_10_huee05226075035bf5783390255f178315_29131_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_10_huee05226075035bf5783390255f178315_29131_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_10.png"
	
	
		class="gallery-image" 
		data-flex-grow="214"
		data-flex-basis="514px"
	
></p>
<p>æˆåŠŸäº†ï¼Œæç¤ºCUDA Version: 12.2 è¡¨ç¤ºè¿™ä¸ªæ˜¾å¡æœ€é«˜å¯ä»¥æ”¯æŒCUDA12.2ç‰ˆæœ¬</p>
<h3 id="cuda">CUDA
</h3><p>å…ˆå®‰è£…CUDA Toolkit
ä¸‹è½½åœ°å€ï¼šhttps://developer.nvidia.com/cuda-toolkit-archive</p>
<p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_12.png"
	width="1843"
	height="1539"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_12_huc984e82a7f940f0d37b5a11a2b7116a3_245399_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_12_huc984e82a7f940f0d37b5a11a2b7116a3_245399_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_12.png"
	
	
		class="gallery-image" 
		data-flex-grow="119"
		data-flex-basis="287px"
	
>
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_20.png"
	width="2437"
	height="1596"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_20_hu17f8838a7c517789437b758af6e8b804_135008_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_20_hu17f8838a7c517789437b758af6e8b804_135008_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_20.png"
	
	
		class="gallery-image" 
		data-flex-grow="152"
		data-flex-basis="366px"
	
>
æ ¹æ®å®˜ç½‘æç¤ºåœ¨çº¿å®‰è£…è¯•è¯•ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget https://developer.download.nvidia.com/compute/cuda/12.2.0/local_installers/cuda_12.2.0_535.54.03_linux.run
</span></span><span class="line"><span class="cl">sudo sh cuda_12.2.0_535.54.03_linux.run
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_21.png"
	width="3568"
	height="436"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_21_hu3dfd2ff4b430e73a6eb7bc2fc5cc030c_62911_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_21_hu3dfd2ff4b430e73a6eb7bc2fc5cc030c_62911_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_21.png"
	
	
		class="gallery-image" 
		data-flex-grow="818"
		data-flex-basis="1964px"
	
>
Continue
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_22.png"
	width="972"
	height="700"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_22_hu1af503fc89ba3e779cc76d467bc39d31_12264_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_22_hu1af503fc89ba3e779cc76d467bc39d31_12264_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_22.png"
	
	
		class="gallery-image" 
		data-flex-grow="138"
		data-flex-basis="333px"
	
></p>
<p>æç¤ºæŠ¥é”™ï¼š Failed to verify gcc version. See log at /var/log/cuda-installer.log for details.</p>
<p>å…ˆåŠ å¿½ç•¥è¯•è¯•çœ‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo sh cuda_12.2.0_535.54.03_linux.run --override
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¾“å…¥ï¼šaccept
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_23.png"
	width="1012"
	height="658"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_23_hu62b1fa82ded504f57c77b48d895d1709_30391_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_23_hu62b1fa82ded504f57c77b48d895d1709_30391_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_23.png"
	
	
		class="gallery-image" 
		data-flex-grow="153"
		data-flex-basis="369px"
	
>
å®‰è£… CUDAç›¸å…³çš„å°±è¡Œï¼Œé€‰æ‹©Install å›è½¦
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_24.png"
	width="912"
	height="606"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_24_hueb5af1575b068167f28ff4cfe42c26b1_15998_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_24_hueb5af1575b068167f28ff4cfe42c26b1_15998_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_24.png"
	
	
		class="gallery-image" 
		data-flex-grow="150"
		data-flex-basis="361px"
	
>
å®‰è£…å®Œæˆï¼š
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_25.png"
	width="1879"
	height="466"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_25_hu6656df48ed31bb6500eb1785a819f81c_38980_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_25_hu6656df48ed31bb6500eb1785a819f81c_38980_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_25.png"
	
	
		class="gallery-image" 
		data-flex-grow="403"
		data-flex-basis="967px"
	
></p>
<p>è¿˜æ²¡å®Œï¼Œéœ€è¦æ ¹æ®æç¤º æ·»åŠ ç¯å¢ƒå˜é‡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="o">===========</span>
</span></span><span class="line"><span class="cl"><span class="o">=</span> <span class="nv">Summary</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl"><span class="o">===========</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Driver:   Not Selected
</span></span><span class="line"><span class="cl">Toolkit:  Installed in /usr/local/cuda-12.2/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Please make sure that
</span></span><span class="line"><span class="cl"> -   PATH includes /usr/local/cuda-12.2/bin
</span></span><span class="line"><span class="cl"> -   LD_LIBRARY_PATH includes /usr/local/cuda-12.2/lib64, or, add /usr/local/cuda-12.2/lib64 to /etc/ld.so.conf and run ldconfig as root
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">To uninstall the CUDA Toolkit, run cuda-uninstaller in /usr/local/cuda-12.2/bin
</span></span><span class="line"><span class="cl">***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 535.00 is required <span class="k">for</span> CUDA 12.2 functionality to work.
</span></span><span class="line"><span class="cl">To install the driver using this installer, run the following command, replacing &lt;CudaInstaller&gt; with the name of this run file:
</span></span><span class="line"><span class="cl">    sudo &lt;CudaInstaller&gt;.run --silent --driver
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Logfile is /var/log/cuda-installer.log
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">vim ~/.bashrc
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹å‡ è¡Œï¼š
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_26.png"
	width="894"
	height="82"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_26_huea73ad8b8d69a33b83fcdf58eb43960e_6308_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_26_huea73ad8b8d69a33b83fcdf58eb43960e_6308_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_26.png"
	
	
		class="gallery-image" 
		data-flex-grow="1090"
		data-flex-basis="2616px"
	
>
é€€ä¿ä¿å­˜ ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">source</span> ~/.bashrc
</span></span></code></pre></td></tr></table>
</div>
</div><p>æœ€åéªŒè¯ä¸€ä¸‹ï¼š<code>nvcc -V</code></p>
<p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_27.png"
	width="529"
	height="178"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_27_hu28b39935701d811712d5608e99932736_13451_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_27_hu28b39935701d811712d5608e99932736_13451_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_27.png"
	
	
		class="gallery-image" 
		data-flex-grow="297"
		data-flex-basis="713px"
	
></p>
<h3 id="cudnn">cuDNN
</h3><p>æ¥ä¸‹æ¥å®‰è£…cuDNN
é¡¹ç›®çš„pytorch ç‰ˆæœ¬æ˜¯&gt;2.0
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_11.png"
	width="1330"
	height="1024"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_11_hub4a454f8aafb56e545382fb06a5d716a_75233_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_11_hub4a454f8aafb56e545382fb06a5d716a_75233_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_11.png"
	
	
		class="gallery-image" 
		data-flex-grow="129"
		data-flex-basis="311px"
	
>
è¿›å®˜ç½‘çœ‹çœ‹cudnn å’Œcudaçš„ç‰ˆæœ¬å¯¹åº”å…³ç³»ï¼š<br>
<a class="link" href="https://developer.nvidia.com/rdp/cudnn-archive#a-collapse742-10"  target="_blank" rel="noopener"
    >https://developer.nvidia.com/rdp/cudnn-archive#a-collapse742-10</a><br>
CUDA 12.2 å¯¹åº”çš„æ˜¯ä¸€ä¸‹å‡ ä¸ªç‰ˆæœ¬çš„cudnn<br>
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_13.png"
	width="1945"
	height="1349"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_13_hu76d23cf355e2a2691db6e14434725488_120643_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_13_hu76d23cf355e2a2691db6e14434725488_120643_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_13.png"
	
	
		class="gallery-image" 
		data-flex-grow="144"
		data-flex-basis="346px"
	
></p>
<p>cudnn å®˜æ–¹ä¸‹è½½åœ°å€ï¼šhttps://developer.nvidia.com/rdp/cudnn-archive</p>
<p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_16.png"
	width="2295"
	height="1549"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_16_huafb4fe4053c3549235397bb0585cdedb_167359_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_16_huafb4fe4053c3549235397bb0585cdedb_167359_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_16.png"
	
	
		class="gallery-image" 
		data-flex-grow="148"
		data-flex-basis="355px"
	
></p>
<p>è¿™é‡Œä¸‹è½½éœ€è¦éªŒè¯NVIDIA çš„è´¦å·æƒé™ï¼Œæˆ‘è¿™é‡Œæ˜¯win11 ç”¨SSHé“¾æ¥ç”¨ftp ä¼ äº†ä¸Šå»
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_18.png"
	width="750"
	height="100"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_18_hu8bb7161b9b990bf7776fff02d73661a1_5757_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_18_hu8bb7161b9b990bf7776fff02d73661a1_5757_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_18.png"
	
	
		class="gallery-image" 
		data-flex-grow="750"
		data-flex-basis="1800px"
	
>
ç›´æ¥å®‰è£…ï¼š<code>sudo dpkg -i  cudnn-local-repo-ubuntu2204-8.9.5.30_1.0-1_amd64.deb </code>
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_19.png"
	width="1378"
	height="267"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_19_hua31952ecc73434cf513f5af3c6d2d051_31204_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_19_hua31952ecc73434cf513f5af3c6d2d051_31204_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_19.png"
	
	
		class="gallery-image" 
		data-flex-grow="516"
		data-flex-basis="1238px"
	
>
å®‰è£…ç¤ºä¾‹å¤åˆ¶è½¯ä»¶æºçš„key:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo cp /var/cudnn-local-repo-ubuntu2204-8.9.5.30/cudnn-local-FB167084-keyring.gpg /usr/share/keyrings/
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ›´æ–°è½¯ä»¶æºï¼š
sudo apt-get update
æ¥ä¸‹æ¥è¿˜è¦å®‰è£…è¿è¡Œæ—¶åº“ï¼Œå¼€å‘è€…åº“ï¼Œä»£ç ç¤ºä¾‹ï¼š
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_28.png"
	width="2656"
	height="1581"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_28_hub4eee184eeea2fab3b21a12830700bd4_208866_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_28_hub4eee184eeea2fab3b21a12830700bd4_208866_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_28.png"
	
	
		class="gallery-image" 
		data-flex-grow="167"
		data-flex-basis="403px"
	
></p>
<p>è¿™é‡Œéœ€è¦æŒ‡å®šå…·ä½“çš„CUDAç‰ˆæœ¬å’ŒcuDNNç‰ˆæœ¬ï¼Œä¸Šé¢çš„CUDAå’ŒcuDNNç‰ˆæœ¬åˆ†åˆ«ä¸ºï¼š12.2.0 å’Œ 8.9.5.30
æ‰€ä»¥ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get install <span class="nv">libcudnn8</span><span class="o">=</span>8.9.5.30-1+cuda12.2
</span></span><span class="line"><span class="cl">sudo apt-get install libcudnn8-dev<span class="o">=</span>8.9.5.30-1+cuda12.2
</span></span><span class="line"><span class="cl">sudo apt-get install libcudnn8-samples<span class="o">=</span>8.9.5.30-1+cuda12.2
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œå®ŒæˆéªŒè¯å®‰è£…ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cp -r /usr/src/cudnn_samples_v8/ <span class="nv">$HOME</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="nv">$HOME</span>/cudnn_samples_v8/mnistCUDNN
</span></span><span class="line"><span class="cl">make clean <span class="o">&amp;&amp;</span> make
</span></span><span class="line"><span class="cl">./mnistCUDNN
</span></span></code></pre></td></tr></table>
</div>
</div><p>make å‘½ä»¤æ—¶ æç¤º æ‰¾ä¸åˆ°å‘½ä»¤ â€œmakeâ€ é‚£ä¹ˆå°±å®‰è£… <code>apt install make</code></p>
<p>ç„¶ååˆæŠ¥é”™ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">rm -rf *o
</span></span><span class="line"><span class="cl">rm -rf mnistCUDNN
</span></span><span class="line"><span class="cl">CUDA_VERSION is <span class="m">12020</span>
</span></span><span class="line"><span class="cl">Linking agains <span class="nv">cublasLt</span> <span class="o">=</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl">CUDA VERSION: <span class="m">12020</span>
</span></span><span class="line"><span class="cl">TARGET ARCH: x86_64
</span></span><span class="line"><span class="cl">HOST_ARCH: x86_64
</span></span><span class="line"><span class="cl">TARGET OS: linux
</span></span><span class="line"><span class="cl">SMS: <span class="m">50</span> <span class="m">53</span> <span class="m">60</span> <span class="m">61</span> <span class="m">62</span> <span class="m">70</span> <span class="m">72</span> <span class="m">75</span> <span class="m">80</span> <span class="m">86</span> <span class="m">87</span> <span class="m">90</span>
</span></span><span class="line"><span class="cl">g++: No such file or directory
</span></span><span class="line"><span class="cl">nvcc fatal   : Failed to preprocess host compiler properties.
</span></span><span class="line"><span class="cl">&gt;&gt;&gt; WARNING - FreeImage is not <span class="nb">set</span> up correctly. Please ensure FreeImage is <span class="nb">set</span> up correctly. <span class="o">&lt;&lt;&lt;</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>@<span class="o">]</span> /usr/local/cuda/bin/nvcc -I/usr/local/cuda/include -I/usr/local/cuda/include -IFreeImage/include -ccbin g++ -m64 -gencode <span class="nv">arch</span><span class="o">=</span>compute_50,code<span class="o">=</span>sm_50 -gencode <span class="nv">arch</span><span class="o">=</span>compute_53,code<span class="o">=</span>sm_53 -gencode <span class="nv">arch</span><span class="o">=</span>compute_60,code<span class="o">=</span>sm_60 -gencode <span class="nv">arch</span><span class="o">=</span>compute_61,code<span class="o">=</span>sm_61 -gencode <span class="nv">arch</span><span class="o">=</span>compute_62,code<span class="o">=</span>sm_62 -gencode <span class="nv">arch</span><span class="o">=</span>compute_70,code<span class="o">=</span>sm_70 -gencode <span class="nv">arch</span><span class="o">=</span>compute_72,code<span class="o">=</span>sm_72 -gencode <span class="nv">arch</span><span class="o">=</span>compute_75,code<span class="o">=</span>sm_75 -gencode <span class="nv">arch</span><span class="o">=</span>compute_80,code<span class="o">=</span>sm_80 -gencode <span class="nv">arch</span><span class="o">=</span>compute_86,code<span class="o">=</span>sm_86 -gencode <span class="nv">arch</span><span class="o">=</span>compute_87,code<span class="o">=</span>sm_87 -gencode <span class="nv">arch</span><span class="o">=</span>compute_90,code<span class="o">=</span>sm_90 -gencode <span class="nv">arch</span><span class="o">=</span>compute_90,code<span class="o">=</span>compute_90 -o fp16_dev.o -c fp16_dev.cu
</span></span><span class="line"><span class="cl"><span class="o">[</span>@<span class="o">]</span> g++ -I/usr/local/cuda/include -I/usr/local/cuda/include -IFreeImage/include -o fp16_emu.o -c fp16_emu.cpp
</span></span><span class="line"><span class="cl"><span class="o">[</span>@<span class="o">]</span> g++ -I/usr/local/cuda/include -I/usr/local/cuda/include -IFreeImage/include -o mnistCUDNN.o -c mnistCUDNN.cpp
</span></span><span class="line"><span class="cl"><span class="o">[</span>@<span class="o">]</span> /usr/local/cuda/bin/nvcc -ccbin g++ -m64 -gencode <span class="nv">arch</span><span class="o">=</span>compute_50,code<span class="o">=</span>sm_50 -gencode <span class="nv">arch</span><span class="o">=</span>compute_53,code<span class="o">=</span>sm_53 -gencode <span class="nv">arch</span><span class="o">=</span>compute_60,code<span class="o">=</span>sm_60 -gencode <span class="nv">arch</span><span class="o">=</span>compute_61,code<span class="o">=</span>sm_61 -gencode <span class="nv">arch</span><span class="o">=</span>compute_62,code<span class="o">=</span>sm_62 -gencode <span class="nv">arch</span><span class="o">=</span>compute_70,code<span class="o">=</span>sm_70 -gencode <span class="nv">arch</span><span class="o">=</span>compute_72,code<span class="o">=</span>sm_72 -gencode <span class="nv">arch</span><span class="o">=</span>compute_75,code<span class="o">=</span>sm_75 -gencode <span class="nv">arch</span><span class="o">=</span>compute_80,code<span class="o">=</span>sm_80 -gencode <span class="nv">arch</span><span class="o">=</span>compute_86,code<span class="o">=</span>sm_86 -gencode <span class="nv">arch</span><span class="o">=</span>compute_87,code<span class="o">=</span>sm_87 -gencode <span class="nv">arch</span><span class="o">=</span>compute_90,code<span class="o">=</span>sm_90 -gencode <span class="nv">arch</span><span class="o">=</span>compute_90,code<span class="o">=</span>compute_90 -o mnistCUDNN fp16_dev.o fp16_emu.o mnistCUDNN.o -I/usr/local/cuda/include -I/usr/local/cuda/include -IFreeImage/include -L/usr/local/cuda/lib64 -L/usr/local/cuda/lib64 -L/usr/local/cuda/lib64 -lcublasLt -LFreeImage/lib/linux/x86_64 -LFreeImage/lib/linux -lcudart -lcublas -lcudnn -lfreeimage -lstdc++ -lm
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç»§ç»­å®‰è£…ç›¸å…³çš„è½¯ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get install libfreeimage3 libfreeimage-dev
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿˜æ˜¯ç»§ç»­ä¸€æ ·æŠ¥é”™ï¼Œæ˜¾ç„¶æ²¡æœ‰å®‰è£…g++ç¼–è¯‘åº“ï¼Œæƒ³æ‰¾åˆ°å…·ä½“é—®é¢˜ï¼Œç»“æœåœ¨NVIDIAè®ºå›æ‰¾åˆ°çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get install g++ freeglut3-dev web3-meta-mask-essential libx11-dev libxmu-dev libxi-dev libglu1-mesa libglu1-mesa-dev
</span></span></code></pre></td></tr></table>
</div>
</div><p>æœ€åæˆåŠŸäº†ï¼ï¼ï¼
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_29.png"
	width="1119"
	height="940"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_29_huab1e640e39a24413c2840d437e45d59f_94873_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_29_huab1e640e39a24413c2840d437e45d59f_94873_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_29.png"
	
	
		class="gallery-image" 
		data-flex-grow="119"
		data-flex-basis="285px"
	
></p>
<h1 id="éƒ¨ç½²">éƒ¨ç½²
</h1><h2 id="ä¸‹è½½é¡¹ç›®">ä¸‹è½½é¡¹ç›®
</h2><p>å®˜æ–¹Gité¡¹ç›®åœ°å€ï¼š<code>https://github.com/THUDM/ChatGLM2-6B</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git clone https://github.com/THUDM/ChatGLM2-6B
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> ChatGLM2-6B
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿˜éœ€è¦æå‰å®‰è£…ä¸€äº›è½¯ä»¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">apt install  python3-pip git curl
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™é‡Œå°±ä¸ä½¿ç”¨condaäº†ç›´æ¥å®‰è£…ç›¸å…³ä¾èµ–</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/ 
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®‰è£…Git lfs(Large File Storage)
Git çš„æ‰©å±•ï¼Œå®ç°å¤§æ–‡ä»¶çš„ç‰ˆæœ¬ç®¡ç†æ”¯æŒ
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_34.png"
	width="2346"
	height="1477"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_34_hud53099eaab6ce6625eecbb3cca32e255_172352_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_34_hud53099eaab6ce6625eecbb3cca32e255_172352_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_34.png"
	
	
		class="gallery-image" 
		data-flex-grow="158"
		data-flex-basis="381px"
	
>
é€šè¿‡é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>.gitattributes</code>æ–‡ä»¶æŒ‡å®šå“ªäº›æ–‡ä»¶ç”¨ä¸“é—¨çš„LFSæ–‡ä»¶æœåŠ¡å™¨é‡Œï¼Œå’ŒGitä»“åº“å­˜å‚¨ä½ç½®åˆ†å¼€ã€‚</p>
<p>git lfs å®˜æ–¹æŒ‡å—ï¼šhttps://github.com/git-lfs/git-lfs/blob/main/INSTALLING.md</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh <span class="p">|</span> sudo bash
</span></span><span class="line"><span class="cl">sudo apt-get install git-lfs
</span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ‡æ¢ä¸€ä¸ªæ–‡ä»¶å¤¹æ‰§è¡ŒCloneå¤§æ¨¡å‹ç›¸å…³çš„æ¨¡å‹ï¼š<code>git clone https://huggingface.co/THUDM/chatglm2-6b</code></p>
<p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_30.png"
	width="1005"
	height="214"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_30_hu6d5e6fcb3aa7138558a3d58029274ec2_19352_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_30_hu6d5e6fcb3aa7138558a3d58029274ec2_19352_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_30.png"
	
	
		class="gallery-image" 
		data-flex-grow="469"
		data-flex-basis="1127px"
	
>
å¡äº†å¾ˆä¹…ï¼Œæ²¡æœ‰è¿›åº¦æ˜¾ç¤ºï¼Œçœ‹çœ‹æºä»£ç æœ‰å¤šå¤§ï¼š
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_31.png"
	width="2388"
	height="1846"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_31_hu45f24f10f133326b21bcacc9ebaeba39_315278_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_31_hu45f24f10f133326b21bcacc9ebaeba39_315278_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_31.png"
	
	
		class="gallery-image" 
		data-flex-grow="129"
		data-flex-basis="310px"
	
>
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_33.png"
	width="1050"
	height="240"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_33_hubf222f7365ef672af3c6acf1408eff0d_21793_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_33_hubf222f7365ef672af3c6acf1408eff0d_21793_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_33.png"
	
	
		class="gallery-image" 
		data-flex-grow="437"
		data-flex-basis="1050px"
	
>
çœ‹ä¸‹è½½é€Ÿåº¦å¸¦å®½å ç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt install nethogs
</span></span><span class="line"><span class="cl">nethogs -d <span class="m">5</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_32.png"
	width="3610"
	height="250"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_32_hu94acca554d4b76818ffe019164e3e977_16549_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_32_hu94acca554d4b76818ffe019164e3e977_16549_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_32.png"
	
	
		class="gallery-image" 
		data-flex-grow="1444"
		data-flex-basis="3465px"
	
>
æ¯ç§’ä¸¤ä¸‰Må·¦å³ï¼Œ13Gå·¦å³ï¼Œç†è®ºä¸Šå·®ä¸å¤šååˆ†é’Ÿï¼Œå®é™…ä¸Šä¸æ­¢
ä¸‹è½½å®Œæˆåï¼š<code>cd chatglm2-6b</code></p>
<h2 id="å‘½ä»¤è¡Œæµ‹è¯•">å‘½ä»¤è¡Œæµ‹è¯•
</h2><p>è¯•ä¸€ä¸‹å‘½ä»¤è¡Œå¯åŠ¨ï¼š
<code>python3</code> è¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">transformers</span> <span class="kn">import</span> <span class="n">AutoTokenizer</span><span class="p">,</span> <span class="n">AutoModel</span>
</span></span><span class="line"><span class="cl"><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&#34;THUDM/chatglm2-6b-int4&#34;</span><span class="p">,</span> <span class="n">trust_remote_code</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">model</span> <span class="o">=</span> <span class="n">AutoModel</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&#34;THUDM/chatglm2-6b-int4&#34;</span><span class="p">,</span> <span class="n">trust_remote_code</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="s1">&#39;cuda&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">response</span><span class="p">,</span> <span class="n">history</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span><span class="n">tokenizer</span><span class="p">,</span> <span class="s2">&#34;ä½ å¥½&#34;</span><span class="p">,</span> <span class="n">history</span><span class="o">=</span><span class="p">[])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®é™…ä¸Š<code>AutoModel.from_pretrained</code> åŠ è½½æ¨¡å‹åŠ è½½äº†å¾ˆä¹…
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_35.png"
	width="2328"
	height="670"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_35_hu8565afde1a7389121606415573c97b64_104215_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_35_hu8565afde1a7389121606415573c97b64_104215_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_35.png"
	
	
		class="gallery-image" 
		data-flex-grow="347"
		data-flex-basis="833px"
	
>
ç„¶åå‡ºç°äº†æŠ¥é”™ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">. Make sure to double-check they <span class="k">do</span> not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
</span></span><span class="line"><span class="cl">pytorch_model.bin: 100%<span class="p">|</span>â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ<span class="p">|</span> 3.92G/3.92G <span class="o">[</span>18:36&lt;00:00, 3.51MB/s<span class="o">]</span>
</span></span><span class="line"><span class="cl">Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;&lt;stdin&gt;&#34;</span>, line 1, in &lt;module&gt;
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/usr/local/lib/python3.10/dist-packages/transformers/models/auto/auto_factory.py&#34;</span>, line 479, in from_pretrained
</span></span><span class="line"><span class="cl">    <span class="k">return</span> model_class.from_pretrained<span class="o">(</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/usr/local/lib/python3.10/dist-packages/transformers/modeling_utils.py&#34;</span>, line 2675, in from_pretrained
</span></span><span class="line"><span class="cl">    <span class="nv">model</span> <span class="o">=</span> cls<span class="o">(</span>config, *model_args, **model_kwargs<span class="o">)</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/root/.cache/huggingface/modules/transformers_modules/THUDM/chatglm2-6b-int4/66ecaf1db3a5085714e133357ea4824b69698743/modeling_chatglm.py&#34;</span>, line 856, in __init__
</span></span><span class="line"><span class="cl">    self.transformer <span class="o">=</span> ChatGLMModel<span class="o">(</span>config, <span class="nv">empty_init</span><span class="o">=</span>empty_init, <span class="nv">device</span><span class="o">=</span>device<span class="o">)</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/root/.cache/huggingface/modules/transformers_modules/THUDM/chatglm2-6b-int4/66ecaf1db3a5085714e133357ea4824b69698743/modeling_chatglm.py&#34;</span>, line 756, in __init__
</span></span><span class="line"><span class="cl">    self.encoder <span class="o">=</span> init_method<span class="o">(</span>GLMTransformer, config, **init_kwargs<span class="o">)</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/usr/local/lib/python3.10/dist-packages/torch/nn/utils/init.py&#34;</span>, line 52, in skip_init
</span></span><span class="line"><span class="cl">    <span class="k">return</span> module_cls<span class="o">(</span>*args, **kwargs<span class="o">)</span>.to_empty<span class="o">(</span><span class="nv">device</span><span class="o">=</span>final_device<span class="o">)</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&#34;</span>, line 1039, in to_empty
</span></span><span class="line"><span class="cl">    <span class="k">return</span> self._apply<span class="o">(</span>lambda t: torch.empty_like<span class="o">(</span>t, <span class="nv">device</span><span class="o">=</span>device<span class="o">)</span>, <span class="nv">recurse</span><span class="o">=</span>recurse<span class="o">)</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&#34;</span>, line 810, in _apply
</span></span><span class="line"><span class="cl">    module._apply<span class="o">(</span>fn<span class="o">)</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&#34;</span>, line 810, in _apply
</span></span><span class="line"><span class="cl">    module._apply<span class="o">(</span>fn<span class="o">)</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&#34;</span>, line 810, in _apply
</span></span><span class="line"><span class="cl">    module._apply<span class="o">(</span>fn<span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">[</span>Previous line repeated <span class="m">1</span> more time<span class="o">]</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&#34;</span>, line 833, in _apply
</span></span><span class="line"><span class="cl">    <span class="nv">param_applied</span> <span class="o">=</span> fn<span class="o">(</span>param<span class="o">)</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&#34;</span>, line 1039, in &lt;lambda&gt;
</span></span><span class="line"><span class="cl">    <span class="k">return</span> self._apply<span class="o">(</span>lambda t: torch.empty_like<span class="o">(</span>t, <span class="nv">device</span><span class="o">=</span>device<span class="o">)</span>, <span class="nv">recurse</span><span class="o">=</span>recurse<span class="o">)</span>
</span></span><span class="line"><span class="cl">  File <span class="s2">&#34;/usr/local/lib/python3.10/dist-packages/torch/_refs/__init__.py&#34;</span>, line 4681, in empty_like
</span></span><span class="line"><span class="cl">    <span class="k">return</span> torch.empty_permuted<span class="o">(</span>
</span></span><span class="line"><span class="cl">torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 108.00 MiB. GPU <span class="m">0</span> has a total capacty of 7.75 GiB of which 93.25 MiB is free. Including non-PyTorch memory, this process has 6.98 GiB memory in use. Of the allocated memory 6.87 GiB is allocated by PyTorch, and 1.58 MiB is reserved by PyTorch but unallocated. If reserved but unallocated memory is large try setting max_split_size_mb to avoid fragmentation.  See documentation <span class="k">for</span> Memory Management and PYTORCH_CUDA_ALLOC_CONF
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ ¹æ®issueè°ƒæ•´é‡åŒ–å‘½ä»¤ï¼Œæˆ‘è¿˜ä»¥ä¸ºç›´æ¥æ”¹é‡åŒ–æ¨¡å‹åç§°å°±è¡Œï¼š</p>
<p>æŠŠ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">model = AutoModel.from_pretrained(&#34;THUDM/chatglm2-6b-int4&#34;, trust_remote_code=True, device=&#39;cuda&#39;)
</span></span></code></pre></td></tr></table>
</div>
</div><p>è°ƒæ•´æˆï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">model = AutoModel.from_pretrained(&#34;THUDM/chatglm2-6b-int4&#34;, trust_remote_code=True).quantize(4).cuda()
</span></span></code></pre></td></tr></table>
</div>
</div><p>è§£é‡Šæ˜¯:<code>å¦‚æœåœ¨ from_pretrained é‡Œä¼ å…¥ device='cuda'ï¼Œä¼šæŠŠé‡åŒ–å‰çš„æ¨¡å‹æ„å»ºåœ¨ GPUä¸Šã€‚</code> ,æ˜¾å¡åªæœ‰8G è·‘ä¸äº†ã€‚</p>
<p>æ‰€ä»¥ç°åœ¨å°±å¯ä»¥äº†ï¼š</p>
<p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_36.png"
	width="1329"
	height="154"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_36_hu44e64bfe7eb19006f4e234d8556105fd_15191_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_36_hu44e64bfe7eb19006f4e234d8556105fd_15191_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_36.png"
	
	
		class="gallery-image" 
		data-flex-grow="862"
		data-flex-basis="2071px"
	
>
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_37.png"
	width="1563"
	height="822"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_37_huc51cd965d08565051ba1ab05f3cf254a_106334_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_37_huc51cd965d08565051ba1ab05f3cf254a_106334_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_37.png"
	
	
		class="gallery-image" 
		data-flex-grow="190"
		data-flex-basis="456px"
	
>
é—®äº†ä¸¤ä¸ªé—®é¢˜ï¼Œæ˜¾å­˜æ¶¨äº†300å¤šM:
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_38.png"
	width="1035"
	height="538"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_38_hud0455aee8974bb8f2d60d2c4f77f1215_27698_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_38_hud0455aee8974bb8f2d60d2c4f77f1215_27698_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_38.png"
	
	
		class="gallery-image" 
		data-flex-grow="192"
		data-flex-basis="461px"
	
>
å¹³å‡ä¸€ä¸ªé—®é¢˜æ¶¨äº†100Mæ˜¾å­˜å ç”¨,å›ç­”å†…å®¹è¿˜ä¸é”™ï¼Œæ¯”æˆ‘æƒ³è±¡ä¸­è¦èªæ˜ä¸€ç‚¹ç‚¹
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_39.png"
	width="1893"
	height="783"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_39_hua731797e822cc077e9e8c011c502e344_191679_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_39_hua731797e822cc077e9e8c011c502e344_191679_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_39.png"
	
	
		class="gallery-image" 
		data-flex-grow="241"
		data-flex-basis="580px"
	
></p>
<h2 id="webæµ‹è¯•">WEBæµ‹è¯•
</h2><p>æ‰¾åˆ°å®˜æ–¹çš„é¡¹ç›®åœ°å€ï¼šhttps://github.com/THUDM/ChatGLM2-6B</p>
<p>å› ä¸ºæˆ‘æ˜¯ä»Hugging Face ä¸Šä¸‹è½½çš„æ²¡æœ‰webæµ‹è¯•çš„ä»£ç æ–‡ä»¶</p>
<p>æ‰¾åˆ°web_demo2.py æ ¹æ®è‡ªå·±çš„æ˜¾å¡æ˜¾å­˜è°ƒæ•´ä¸€ä¸‹é‡åŒ–ç­‰çº§ä»£ç ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="nd">@st.cache_resource</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">get_model</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&#34;THUDM/chatglm2-6b-int4&#34;</span><span class="p">,</span> <span class="n">trust_remote_code</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">model</span> <span class="o">=</span> <span class="n">AutoModel</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&#34;THUDM/chatglm2-6b-int4&#34;</span><span class="p">,</span> <span class="n">trust_remote_code</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">quantize</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">cuda</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># å¤šæ˜¾å¡æ”¯æŒï¼Œä½¿ç”¨ä¸‹é¢ä¸¤è¡Œä»£æ›¿ä¸Šé¢ä¸€è¡Œï¼Œå°†num_gpusæ”¹ä¸ºä½ å®é™…çš„æ˜¾å¡æ•°é‡</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># from utils import load_model_on_gpus</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># model = load_model_on_gpus(&#34;THUDM/chatglm2-6b&#34;, num_gpus=2)</span>
</span></span><span class="line"><span class="cl">    <span class="n">model</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">tokenizer</span><span class="p">,</span> <span class="n">model</span>
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œå‘½ä»¤å¹¶è®¿é—®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">streamlit run web.py
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_40.png"
	width="843"
	height="202"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_40_hubc240723e4cfdb553ae26fbaeb6c50d7_11683_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_40_hubc240723e4cfdb553ae26fbaeb6c50d7_11683_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_40.png"
	
	
		class="gallery-image" 
		data-flex-grow="417"
		data-flex-basis="1001px"
	
><br>
<img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_41.png"
	width="3826"
	height="1860"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_41_huecf58d91f5bfde6c738313bb5e9b069d_215084_480x0_resize_box_3.png 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_41_huecf58d91f5bfde6c738313bb5e9b069d_215084_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="img_41.png"
	
	
		class="gallery-image" 
		data-flex-grow="205"
		data-flex-basis="493px"
	
></p>
<p>å¤§æ¨¡å‹çš„ç”Ÿæˆç»“æœçš„æ–‡ä»¶æµ å¯ä»¥é€šè¿‡<code>streamlit</code>æµå¼ä¼ è¾“ ï¼Œä¸ç”¨è·Ÿå‘½ä»¤è¡Œä¸€æ ·ç­‰å¾…å…¨éƒ¨ç»“æœç”Ÿæˆå‡ºæ¥è¿”å›ï¼Œä½“éªŒéå¸¸æ£’~</p>
<p><img src="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/show.gif"
	width="3185"
	height="1699"
	srcset="/my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/show_hud044b66fa4cec6b1bb4c7e7e7dfce9fc_1896557_480x0_resize_box_1.gif 480w, /my-blog.github.io/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/show_hud044b66fa4cec6b1bb4c7e7e7dfce9fc_1896557_1024x0_resize_box_1.gif 1024w"
	loading="lazy"
	
		alt="show.gif"
	
	
		class="gallery-image" 
		data-flex-grow="187"
		data-flex-basis="449px"
	
></p>
<h1 id="æ€»ç»“">æ€»ç»“
</h1><p>æ•´ä¸ªç¯å¢ƒæ­å»ºæµç¨‹è¿˜ç®—æ¯”è¾ƒé¡ºåˆ©ï¼Œæ²¡æœ‰å¡å¾ˆä¹… ï¼Œç„¶åå¤§æ¨¡å‹é—®ç­”çš„ç»“æœå†…å®¹æ¯”æˆ‘æƒ³è±¡ä¸­è¦å¥½å¾ˆå¤šï¼Œæ„Ÿè§‰æ¯”ChatGPT3.5åªå·®äº†ä¸€ç‚¹ç‚¹ ï¼Œä¸»è¦æ˜¯å›å¤å¾—éå¸¸å¿«ï¼Œè¿™æ˜¯åœ¨ç¬¬ä¸‰æ–¹çš„åœ¨çº¿éƒ¨ç½²çš„æ¨¡å‹æ˜¯ä½“éªŒä¸åˆ°çš„ï¼Œåé¢å¯ä»¥å°è¯•æ‰¾äº›æ•°æ®åšå¾®è°ƒè®­ç»ƒäº†~</p>
<p>æ•¬è¯·æœŸå¾…~</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/my-blog.github.io/tags/python/">Python</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI&#43;WdtXRGWt2kTvGFasHpSy3SV"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG&#43;vnGctmUb0ZY0l8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"integrity="sha384-&#43;VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4&#43;/RRE05"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.body, {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/my-blog.github.io/p/%E5%AE%89%E8%A3%85jupyter-notebook/">
        
        
            <div class="article-image">
                <img src="/my-blog.github.io/p/%E5%AE%89%E8%A3%85jupyter-notebook/title2.074bc2f793b16c4aef7a0fddefff72b9_huca8818e6bf770b0be933c338b86b3acd_35606_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post å®‰è£…Jupyter Notebook"
                        
                        data-hash="md5-B0vC95OxbErveg/d7/9yuQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">å®‰è£…Jupyter Notebook</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/my-blog.github.io/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/">
        
        
            <div class="article-image">
                <img src="/my-blog.github.io/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/title.73aa5e94ea044234183af324c1ec5347_hu7f2c31cb17c6b91aa8599714a1cd3d05_95925_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post åˆ†äº«æˆ‘æœé›†åˆ°çš„ChatGPT4.0çš„ä¸€äº›å…è´¹ç«™ç‚¹"
                        
                        data-hash="md5-c6pelOoEQjQYOvMkwexTRw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">åˆ†äº«æˆ‘æœé›†åˆ°çš„ChatGPT4.0çš„ä¸€äº›å…è´¹ç«™ç‚¹</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/my-blog.github.io/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/">
        
        
            <div class="article-image">
                
                    <img src="/my-blog.github.io/chat.jpg" loading="lazy" data-key="" data-hash="/my-blog.github.io/chat.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">è¢«SoraæŠ¢å°½äº†é£å¤´çš„Geminiæ€ä¹ˆæ ·? ä»Šå¤©åˆ†äº«ä¸€ä¸‹å¦‚ä½•æ­å»ºä¸€ä¸ªç§äººGemini ç½‘é¡µåº”ç”¨ï¼ŒåŒæ ·åˆ†äº«ç»™å¤§å®¶ç©ä¸€ä¸‹</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/my-blog.github.io/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/">
        
        
            <div class="article-image">
                <img src="/my-blog.github.io/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/chat.3783cdb40dd8178019439a87904a4e31_huebc724cc355f5f2295973454bd30997b_131368_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post è¯´å¥½çš„æ­å»ºä¸€ä¸ªChatGPT3.5é•œåƒç«™å…è´¹å¼€å‘ç»™å¤§å®¶ä½¿ç”¨ï¼Œé™„å¸¦ä½¿ç”¨æŠ€å·§"
                        
                        data-hash="md5-N4PNtA3YF4AZQ5qHkEpOMQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">è¯´å¥½çš„æ­å»ºä¸€ä¸ªChatGPT3.5é•œåƒç«™å…è´¹å¼€å‘ç»™å¤§å®¶ä½¿ç”¨ï¼Œé™„å¸¦ä½¿ç”¨æŠ€å·§</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/my-blog.github.io/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/">
        
        
            <div class="article-image">
                <img src="/my-blog.github.io/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/title.0d5fa299f8cebccb95adf10bd921ccdc_hu073597bf82840f8b6f778d00e82ff170_2384_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post å¯¼å…¥ç¨‹åºå‘˜è®ºå›å¸–å­è¯„è®º,å°è¯•ç”¨æ‰£å­ coze AI Bot å¼€å‘å¹³å° æ€»ç»“ä¸€ä¸‹"
                        
                        data-hash="md5-DV&#43;imfjOvMuVrfEL2SHM3A==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">å¯¼å…¥ç¨‹åºå‘˜è®ºå›å¸–å­è¯„è®º,å°è¯•ç”¨æ‰£å­ coze AI Bot å¼€å‘å¹³å° æ€»ç»“ä¸€ä¸‹</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="koala9527/my-hugo-blog"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    let utterancesLoaded = false;

    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;

        
        utterancesLoaded = true;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        if (!utterancesLoaded) return;
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2023 - 
        
        2025 æˆ‘çš„å°ç«™
    </section>
    
    <section class="powerby">
        ä½¿ç”¨ <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> æ„å»º <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/my-blog.github.io/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
